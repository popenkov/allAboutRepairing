"use strict";function _defineProperty(e,i,r){return i in e?Object.defineProperty(e,i,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[i]=r,e}document.addEventListener("DOMContentLoaded",(function(){var e=document.querySelector(".js-hamburger-btn"),i=document.querySelector(".js-hamburger-menu");e.addEventListener("click",(function(){var e;i.classList.toggle("hamburger-show");var r=new Swiper(".hamburger__left-menu",(_defineProperty(e={direction:"vertical",slidesPerView:1},"slidesPerView","auto"),_defineProperty(e,"allowTouchMove",!1),_defineProperty(e,"loop",!1),_defineProperty(e,"slideActiveClass","swiper-slide-active"),_defineProperty(e,"scrollbar",{el:".swiper-scrollbar",draggable:!0,hide:!0}),e)),o=document.querySelectorAll(".hamburger__left-menu .swiper-wrapper .swiper-slide");r.on("click",(function(e){o.forEach((function(e){e.classList.remove("swiper-slide-active")})),e.target.classList.add("swiper-slide-active")}));new Swiper(".hamburger__right-menu",{slidesPerView:1,spaceBetween:50,direction:"vertical",allowTouchMove:!1,loop:!1,thumbs:{swiper:r}})}));new Swiper(".main__slider-swiper",{direction:"horizontal",loop:!0,navigation:{nextEl:".main__slider-button-next",prevEl:".main__slider-button-prev"}}),new Swiper(".pop-works__slider-swiper",{direction:"horizontal",loop:!0,navigation:{nextEl:".pop-works__slider-button-next",prevEl:".pop-works__slider-button-prev"},breakpoints:{414:{slidesPerView:1,spaceBetween:0},1e3:{slidesPerView:3,spaceBetween:24},1440:{slidesPerView:3,spaceBetween:24}}}),new Swiper(".new-videos__slider-swiper",{direction:"horizontal",loop:!0,navigation:{nextEl:".new-videos__slider-button-next",prevEl:".new-videos__slider-button-prev"},breakpoints:{414:{slidesPerView:1.36,spaceBetween:24},1e3:{slidesPerView:4,spaceBetween:24}}});var r,o=document.body.clientWidth,t=document.querySelector(".pop-articles__items-swiper"),n=function(){console.log("sliderInit"),r=new Swiper(".pop-articles__items-swiper",{direction:"horizontal",loop:!0}),t.classList.remove("pop-articles--no-swiper")};o<415&&n();window.addEventListener("resize",(function(){var e=document.body.clientWidth;console.log(e),e<415?n():e>=415&&t.classList.contains("swiper-container-initialized")&&(console.log("swiperDestroy"),r.destroy(!0,!0),t.classList.add("pop-articles--no-swiper"))})),console.log(o);var s=document.querySelector(".header__location"),l=document.querySelector(".header__location-popup");s&&s.addEventListener("click",(function(e){e.preventDefault(),l.classList.toggle("header__location-popup--show")}))}));
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbW1vbi5qcyJdLCJuYW1lcyI6WyJkb2N1bWVudCIsImFkZEV2ZW50TGlzdGVuZXIiLCJjYXRhbG9nQnV0dG9uIiwiaGFtYnVyZ2VyTWVudSIsInF1ZXJ5U2VsZWN0b3IiLCJjbGFzc0xpc3QiLCJfU3dpcGVyIiwibGVmdE1lbnVTd2lwZXIiLCJTd2lwZXIiLCJfZGVmaW5lUHJvcGVydHkiLCJlbCIsImRyYWdnYWJsZSIsInRhcmdldCIsImhpZGUiLCJzd2lwZXIiLCJvbiIsImUiLCJsZWZ0U3dpcGVyU2xpZGVzIiwiZm9yRWFjaCIsIml0ZW0iLCJyZW1vdmUiLCJhZGQiLCJzbGlkZXNQZXJWaWV3IiwibmF2aWdhdGlvbiIsIm5leHRFbCIsInByZXZFbCIsImxvb3AiLCJicmVha3BvaW50cyIsImRpcmVjdGlvbiIsIm5ld1ZpZGVvc1N3aXBlciIsInNwYWNlQmV0d2VlbiIsIjQxNCIsInBvcEFydGljbGVzU3dpcGVyIiwic2xpZGVySW5pdCIsImRlc3Ryb3kiLCJyZXNpemVIYW5kbGVyU2xpZGVyIiwiY2xpZW50V2lkdGgiLCJzd2lwZXJEZXN0cm95IiwibG9nIiwiYm9keSIsInN3aXBlckNvbnRhaW5lciIsImNvbnNvbGUiLCJoZWFkZXJMb2NhdGlvbkxpbmsiLCJoZWFkZXJMb2NhdGlvblBvcHVwIiwid2luZG93IiwidW5sb2NrU2Nyb2xsIiwiZml4ZWRFbHMiLCJjb250YWlucyIsInByZXZlbnREZWZhdWx0IiwidG9nZ2xlIl0sIm1hcHBpbmdzIjoibUpBRUFBLFNBQVNDLGlCQUFpQixvQkFBb0IsV0FXdkNDLElBQUFBLEVBQWdCQSxTQUFjRCxjQUFkLHFCQUE4Q0UsRUFBQUgsU0FBQUksY0FBQSxzQkFDakRDLEVBQWlCSixpQkFBL0IsU0FBQSxXQUFBLElBQUFLLEVBR0FILEVBQU1JLFVBQXFCQyxPQUFPLGtCQUFYLElBQUFELEVBQUEsSUFBQUMsT0FBQSx5QkFBQUMsZ0JBQUFILEVBQUEsQ0FZckJJLFVBQUksV0FDSkMsY0FGWSxHQVhTLGdCQWNmLFFBZGVGLGdCQUFBSCxFQUFBLGtCQUF2QixHQUF1QkcsZ0JBQUFILEVBQUEsUUFxQnRCLEdBckJzQkcsZ0JBQUFILEVBQUEsbUJBTUgsdUJBTkdHLGdCQUFBSCxFQUFBLFlBd0J0QixDQUdDSSxHQUFJRSxvQkFDSkEsV0FBT1AsRUFMUlEsTUFBQSxJQXZCc0JQLElBOENyQlEsRUFBUVAsU0FBQUEsaUJBQUFBLHVEQURBQSxFQUFBUSxHQUFBLFNBQUEsU0FBQUMsR0FQVEMsRUFBQUMsU0FBQSxTQUFBQyxHQTFDRkEsRUFBQWQsVUFBQWUsT0FBQSwwQkEwREdKLEVBQUFKLE9BQ1dQLFVBQUFnQixJQUY2QywwQkFhRyxJQUFBYixPQUFBLHlCQUFBLENBTzNEYyxjQUFBLEVBQ0FDLGFBQVksR0FDVkMsVUFBUSxXQUNSQyxnQkFBUSxFQVZpREMsTUFBQSxFQWEzREMsT0FBVyxDQUNUYixPQUFBUCxRQU1NLElBQUFDLE9BQUEsdUJBQUEsQ0FQS29CLFVBQUEsYUFhWEYsTUFBTSxFQWJLSCxXQUFBLENBYmpCQyxPQUFBLDRCQWtDTUssT0FBQUEsK0JBTUYsSUFBQXJCLE9BQUEsNEJBQUEsQ0FFRWdCLFVBQVEsYUFDUkMsTUFBUSxFQU9OSCxXQUFBQSxDQUNBUSxPQUFBQSxpQ0FKU0wsT0FBQSxrQ0FRVEgsWUFBYSxDQURUUyxJQUFBLENBUEtULGNBQUEsRUFiakJRLGFBQUEsR0FnQ0lFLElBQUFBLENBN0NJVixjQUFlLEVBOENqQlcsYUFBYSxJQUlmTCxLQUFTLENBQ0hOLGNBQUEsRUFIUFEsYUFBQSxPQWNtQkksSUFBUTFCLE9BQU0sNkJBQWhDLENBRkpvQixVQUFBLGFBNUNJRixNQUFNLEVBSU5ILFdBQVksQ0FtRFZZLE9BQUFBLGtDQUNJQyxPQUFBQSxtQ0FHRkgsWUFBVSxDQUdWSSxJQUFBQSxDQUNIZixjQUFBLEtBUkxRLGFBQUEsSUFnQlFRLElBQUlGLENBQ1pkLGNBQUEsRUFDSlEsYUFBQSxPQXpGWVIsSUFtR1pVLEVBRkFJLEVBQUFwQyxTQUFBdUMsS0FBQUgsWUFDQUksRUFBQXhDLFNBQUFJLGNBQUEsK0JBRUE2QixFQUFBLFdBQ0FRLFFBQUFILElBQUEsY0FDQU4sRUFBQSxJQUFBeEIsT0FBQSw4QkFBQSxDQUNVa0MsVUFBQUEsYUFDQUMsTUFBQUEsSUFVTkgsRUFBQW5DLFVBQUFlLE9BQUEsNEJBU0tnQixFQUFBLEtBdkRESCxJQWNKVyxPQUFPM0MsaUJBQWlCLFVBNEN2QixXQXRERyxJQUFNbUMsRUFBZ0JwQyxTQUFTdUMsS0FBekJILFlBd0RWSyxRQUFTSSxJQUFBQSxHQUNHVCxFQUFZaEMsSUFDaEIwQyxJQXRET1YsR0FBZSxLQUFPSSxFQUFnQm5DLFVBQVUwQyxTQUFTLGtDQTBDaEVELFFBQVFSLElBQUd0QyxpQkF4RGZnQyxFQUFrQkUsU0FBUSxHQUFNLEdBeUQ1QlksRUFBVXpDLFVBQUFnQixJQUFBLCtCQWhDbEJvQixRQUFRSCxJQUFJRixHQWdCWixJQUFNTSxFQUFxQjFDLFNBQVNJLGNBQWMscUJBQzVDdUMsRUFBc0IzQyxTQUFTSSxjQUFjLDJCQUVqRHNDLEdBQXNCQSxFQUFtQnpDLGlCQUFpQixTQUFTLFNBQUNlLEdBQ2xFQSxFQUFFZ0MsaUJBQ0ZMLEVBQW9CdEMsVUFBVTRDLE9BQU8iLCJmaWxlIjoiY29tbW9uLmpzIiwic291cmNlc0NvbnRlbnQiOlsiXHJcblxyXG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwiRE9NQ29udGVudExvYWRlZFwiLCBmdW5jdGlvbiAoKSB7XHJcbiAgICBcclxuICAgIC8vPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4gICAgLy89PT09PT09fCAgIElNUE9SVFNcclxuICAgIC8vPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4gICAgXHJcbiAgICBcclxuICAgIFxyXG4gICAgXHRjb25zdCBjYXRhbG9nQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmpzLWhhbWJ1cmdlci1idG4nKTtcclxuICAgIFx0Y29uc3QgaGFtYnVyZ2VyTWVudSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5qcy1oYW1idXJnZXItbWVudScpO1xyXG4gICAgXHRcclxuICAgIFx0ISFjYXRhbG9nQnV0dG9uICYgY2F0YWxvZ0J1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICAgIFx0XHRoYW1idXJnZXJNZW51LmNsYXNzTGlzdC50b2dnbGUoJ2hhbWJ1cmdlci1zaG93Jyk7XHJcbiAgICBcclxuICAgIFxyXG4gICAgXHRcdGNvbnN0IGxlZnRNZW51U3dpcGVyID0gbmV3IFN3aXBlcignLmhhbWJ1cmdlcl9fbGVmdC1tZW51Jywge1xyXG4gICAgXHRcdFx0ZGlyZWN0aW9uOiAndmVydGljYWwnLFxyXG4gICAgXHRcdFx0c2xpZGVzUGVyVmlldzogMSxcclxuICAgIFx0XHQgICBzbGlkZXNQZXJWaWV3OiAnYXV0bycsXHJcbiAgICBcdFx0ICAgYWxsb3dUb3VjaE1vdmU6IGZhbHNlLFxyXG4gICAgXHRcdCAgbG9vcDogZmFsc2UsXHJcbiAgICBcdFx0ICBzbGlkZUFjdGl2ZUNsYXNzOiAnc3dpcGVyLXNsaWRlLWFjdGl2ZScsXHJcbiAgICBcdFx0ICAgXHJcbiAgICBcdFx0LyogICAgd2F0Y2hTbGlkZXNWaXNpYmlsaXR5OiB0cnVlLFxyXG4gICAgXHRcdCAgIHdhdGNoU2xpZGVzUHJvZ3Jlc3M6IHRydWUsICovXHJcbiAgICBcdCBcclxuICAgIFx0XHQgICBzY3JvbGxiYXI6IHtcclxuICAgIFx0XHRcdCBlbDogJy5zd2lwZXItc2Nyb2xsYmFyJyxcclxuICAgIFx0XHRcdCBkcmFnZ2FibGU6IHRydWUsXHJcbiAgICBcdFx0XHQgaGlkZTogdHJ1ZSxcclxuICAgIFx0XHQgICB9LFxyXG4gICAgXHJcbiAgICBcclxuICAgIFx0XHQgICBcclxuICAgIFx0XHQgfSk7XHJcbiAgICBcclxuICAgIFx0XHQgLyog0L7RgtC80LXRh9Cw0Y4g0LDQutGC0LjQstC90YvQuSDRgdC70LDQudC0ICovXHJcbiAgICBcdFx0IGNvbnN0IGxlZnRTd2lwZXJTbGlkZXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuaGFtYnVyZ2VyX19sZWZ0LW1lbnUgLnN3aXBlci13cmFwcGVyIC5zd2lwZXItc2xpZGUnKTtcclxuICAgIFx0XHQgbGVmdE1lbnVTd2lwZXIub24oJ2NsaWNrJywgZnVuY3Rpb24gKGUpIHtcclxuICAgIFx0XHRcdGxlZnRTd2lwZXJTbGlkZXMuZm9yRWFjaChpdGVtID0+IHtcclxuICAgIFx0XHRcdFx0aXRlbS5jbGFzc0xpc3QucmVtb3ZlKCdzd2lwZXItc2xpZGUtYWN0aXZlJyk7XHJcbiAgICBcdFx0XHR9KVxyXG4gICAgXHRcdFx0IGxldCB0YXJnZXQgPSBlLnRhcmdldDtcclxuICAgIFx0XHRcdCB0YXJnZXQuY2xhc3NMaXN0LmFkZCgnc3dpcGVyLXNsaWRlLWFjdGl2ZScpXHJcbiAgICBcdFx0ICB9KTtcclxuICAgIFxyXG4gICAgXHRcdCAgXHJcbiAgICBcclxuICAgIFxyXG4gICAgXHJcbiAgICBcclxuICAgIFx0XHQgXHJcbiAgICBcdCBcclxuICAgIFx0XHQgY29uc3QgcmlnaHRNZW51U3dpcGVyID0gbmV3IFN3aXBlcignLmhhbWJ1cmdlcl9fcmlnaHQtbWVudScsIHtcclxuICAgIFx0XHQgICBcclxuICAgIFx0XHQgICBzbGlkZXNQZXJWaWV3OiAxLFxyXG4gICAgXHRcdCAgIHNwYWNlQmV0d2VlbjogNTAsXHJcbiAgICBcdFx0ICAgZGlyZWN0aW9uOiAndmVydGljYWwnLFxyXG4gICAgXHRcdCAgIGFsbG93VG91Y2hNb3ZlOiBmYWxzZSxcclxuICAgIFx0XHRcdCBsb29wOiBmYWxzZSxcclxuICAgIFx0XHRcdCB0aHVtYnM6IHtcclxuICAgIFx0XHRcdCBzd2lwZXI6IGxlZnRNZW51U3dpcGVyLFxyXG4gICAgXHRcdFx0IH0sXHJcbiAgICBcdCBcclxuICAgIFx0IFxyXG4gICAgXHQgXHJcbiAgICBcdFx0IH0pO1xyXG4gICAgXHR9KVxyXG4gICAgY29uc3QgbWFpblNsaWRlcnN3aXBlciA9IG5ldyBTd2lwZXIoJy5tYWluX19zbGlkZXItc3dpcGVyJywge1xyXG4gICAgICAgIC8vIE9wdGlvbmFsIHBhcmFtZXRlcnNcclxuICAgICAgICBkaXJlY3Rpb246ICdob3Jpem9udGFsJyxcclxuICAgICAgICBsb29wOiB0cnVlLFxyXG4gICAgICBcclxuICAgIFxyXG4gICAgICAgIC8vIE5hdmlnYXRpb24gYXJyb3dzXHJcbiAgICAgICAgbmF2aWdhdGlvbjoge1xyXG4gICAgICAgICAgbmV4dEVsOiAnLm1haW5fX3NsaWRlci1idXR0b24tbmV4dCcsXHJcbiAgICAgICAgICBwcmV2RWw6ICcubWFpbl9fc2xpZGVyLWJ1dHRvbi1wcmV2JyxcclxuICAgICAgICB9LFxyXG4gICAgICBcclxuICAgICAgfSk7XHJcbiAgICBjb25zdCBwb3BXb3Jrc1N3aXBlciA9IG5ldyBTd2lwZXIoJy5wb3Atd29ya3NfX3NsaWRlci1zd2lwZXInLCB7XHJcbiAgICAgICAgLy8gT3B0aW9uYWwgcGFyYW1ldGVyc1xyXG4gICAgICAgIGRpcmVjdGlvbjogJ2hvcml6b250YWwnLFxyXG4gICAgICAgIGxvb3A6IHRydWUsXHJcbiAgICAgICBcclxuICAgICAgXHJcbiAgICBcclxuICAgICAgICAvLyBOYXZpZ2F0aW9uIGFycm93c1xyXG4gICAgICAgIG5hdmlnYXRpb246IHtcclxuICAgICAgICAgIG5leHRFbDogJy5wb3Atd29ya3NfX3NsaWRlci1idXR0b24tbmV4dCcsXHJcbiAgICAgICAgICBwcmV2RWw6ICcucG9wLXdvcmtzX19zbGlkZXItYnV0dG9uLXByZXYnLFxyXG4gICAgICAgIH0sXHJcbiAgICBcclxuICAgICAgICBicmVha3BvaW50czoge1xyXG4gICAgICAgICAgLy8gd2hlbiB3aW5kb3cgd2lkdGggaXMgPj0gMzIwcHhcclxuICAgICAgICAgIDQxNDoge1xyXG4gICAgICAgICAgICBzbGlkZXNQZXJWaWV3OiAxLFxyXG4gICAgICAgICAgICBzcGFjZUJldHdlZW46IDBcclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgICAvLyB3aGVuIHdpbmRvdyB3aWR0aCBpcyA+PSA0ODBweFxyXG4gICAgICAgICAgMTAwMDoge1xyXG4gICAgICAgICAgICBzbGlkZXNQZXJWaWV3OiAzLFxyXG4gICAgICAgICAgICBzcGFjZUJldHdlZW46IDI0XHJcbiAgICAgICAgICB9LFxyXG4gICAgXHJcbiAgICBcclxuICAgICAgICAgIDE0NDA6IHtcclxuICAgICAgICAgICAgc2xpZGVzUGVyVmlldzogMyxcclxuICAgICAgICAgICAgc3BhY2VCZXR3ZWVuOiAyNFxyXG4gICAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgfVxyXG4gICAgICBcclxuICAgICAgfSk7XHJcbiAgICBjb25zdCBuZXdWaWRlb3NTd2lwZXIgPSBuZXcgU3dpcGVyKCcubmV3LXZpZGVvc19fc2xpZGVyLXN3aXBlcicsIHtcclxuICAgICAgICAvLyBPcHRpb25hbCBwYXJhbWV0ZXJzXHJcbiAgICAgICAgZGlyZWN0aW9uOiAnaG9yaXpvbnRhbCcsXHJcbiAgICAgICAgbG9vcDogdHJ1ZSxcclxuICAgICAgXHJcbiAgICBcclxuICAgICAgICAvLyBOYXZpZ2F0aW9uIGFycm93c1xyXG4gICAgICAgIG5hdmlnYXRpb246IHtcclxuICAgICAgICAgIG5leHRFbDogJy5uZXctdmlkZW9zX19zbGlkZXItYnV0dG9uLW5leHQnLFxyXG4gICAgICAgICAgcHJldkVsOiAnLm5ldy12aWRlb3NfX3NsaWRlci1idXR0b24tcHJldicsXHJcbiAgICAgICAgfSxcclxuICAgIFxyXG4gICAgXHJcbiAgICAgICAgYnJlYWtwb2ludHM6IHtcclxuICAgICAgICAgIC8vIHdoZW4gd2luZG93IHdpZHRoIGlzID49IDQxNFxyXG4gICAgICAgICAgNDE0OiB7XHJcbiAgICAgICAgICAgIHNsaWRlc1BlclZpZXc6IDEuMzYsXHJcbiAgICAgICAgICAgIHNwYWNlQmV0d2VlbjogMjRcclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgICAvLyB3aGVuIHdpbmRvdyB3aWR0aCBpcyA+PSAxMDAwXHJcbiAgICAgICAgICAxMDAwOiB7XHJcbiAgICAgICAgICAgIHNsaWRlc1BlclZpZXc6IDQsXHJcbiAgICAgICAgICAgIHNwYWNlQmV0d2VlbjogMjRcclxuICAgICAgICAgIH0sXHJcbiAgICBcclxuICAgICAgICB9XHJcbiAgICAgIFxyXG4gICAgICB9KTtcclxuICAgIFxyXG4gICAgXHJcbiAgICBsZXQgeyBjbGllbnRXaWR0aCB9ID0gZG9jdW1lbnQuYm9keTtcclxuICAgIGNvbnN0IHN3aXBlckNvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3AtYXJ0aWNsZXNfX2l0ZW1zLXN3aXBlcicpO1xyXG4gICAgbGV0IHBvcEFydGljbGVzU3dpcGVyO1xyXG4gICAgY29uc3Qgc2xpZGVySW5pdCA9ICgpID0+IHtcclxuICAgICAgICBjb25zb2xlLmxvZygnc2xpZGVySW5pdCcpXHJcbiAgICAgICBwb3BBcnRpY2xlc1N3aXBlciAgPSBuZXcgU3dpcGVyKCcucG9wLWFydGljbGVzX19pdGVtcy1zd2lwZXInLCB7XHJcbiAgICAgICAgLy8gT3B0aW9uYWwgcGFyYW1ldGVyc1xyXG4gICAgICAgIGRpcmVjdGlvbjogJ2hvcml6b250YWwnLFxyXG4gICAgICAgIGxvb3A6IHRydWUsXHJcbiAgICAgIFxyXG4gICAgXHJcbiAgICAgIFxyXG4gICAgICB9KTtcclxuICAgIFxyXG4gICAgICBzd2lwZXJDb250YWluZXIuY2xhc3NMaXN0LnJlbW92ZSgncG9wLWFydGljbGVzLS1uby1zd2lwZXInKTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgY29uc3Qgc3dpcGVyRGVzdHJveSA9ICgpID0+IHtcclxuICAgICAgICBjb25zb2xlLmxvZygnc3dpcGVyRGVzdHJveScpXHJcbiAgICAgICAgcG9wQXJ0aWNsZXNTd2lwZXIuZGVzdHJveSh0cnVlLCB0cnVlKVxyXG4gICAgICAgIHN3aXBlckNvbnRhaW5lci5jbGFzc0xpc3QuYWRkKCdwb3AtYXJ0aWNsZXMtLW5vLXN3aXBlcicpO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBcclxuICAgIGlmIChjbGllbnRXaWR0aDwgNDE1KSB7XHJcbiAgICAgICAgc2xpZGVySW5pdCgpO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBjb25zdCByZXNpemVIYW5kbGVyU2xpZGVyID0gKCkgPT4ge1xyXG4gICAgICAgIGxldCB7IGNsaWVudFdpZHRoIH0gPSBkb2N1bWVudC5ib2R5O1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGNsaWVudFdpZHRoKTtcclxuICAgICAgICBpZiAoY2xpZW50V2lkdGg8IDQxNSkge1xyXG4gICAgICAgICAgICBzbGlkZXJJbml0KCk7XHJcbiAgICAgICAgfSBlbHNlIGlmIChjbGllbnRXaWR0aCA+PSA0MTUgJiYgc3dpcGVyQ29udGFpbmVyLmNsYXNzTGlzdC5jb250YWlucygnc3dpcGVyLWNvbnRhaW5lci1pbml0aWFsaXplZCcpKSB7XHJcbiAgICBcclxuICAgICAgICAgICAgc3dpcGVyRGVzdHJveSgpOyBcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBcclxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCByZXNpemVIYW5kbGVyU2xpZGVyKTtcclxuICAgIFxyXG4gICAgXHJcbiAgICBcclxuICAgIFxyXG4gICAgY29uc29sZS5sb2coY2xpZW50V2lkdGgpXHJcbiAgICAvKiBsZXQgeW91clNsaWRlcjtcclxuICAgIFxyXG4gICAgXHJcbiAgICBcclxuICAgIGNvbnN0IHJlc2l6ZUhhbmRsZXJTbGlkZXIgPSAoKSA9PiB7XHJcbiAgICAgICAgaWYgKGNsaWVudFdpZHRoICE9PSBkb2N1bWVudC5ib2R5LmNsaWVudFdpZHRoKSB7XHJcbiAgICAgICAgICAgIGNsaWVudFdpZHRoID0gZG9jdW1lbnQuYm9keS5jbGllbnRXaWR0aDtcclxuICAgIFxyXG4gICAgICAgICAgICBpZiAoeW91clNsaWRlcikge1xyXG4gICAgICAgICAgICAgICAgeW91clNsaWRlci5kZXN0cm95KCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgICAgICBzbGlkZXJJbml0KCk7XHJcbiAgICAgICAgfVxyXG4gICAgfSAqL1xyXG4gICAgY29uc3QgaGVhZGVyTG9jYXRpb25MaW5rID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmhlYWRlcl9fbG9jYXRpb24nKTtcclxuICAgIGNvbnN0IGhlYWRlckxvY2F0aW9uUG9wdXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuaGVhZGVyX19sb2NhdGlvbi1wb3B1cCcpO1xyXG4gICAgXHJcbiAgICAhIWhlYWRlckxvY2F0aW9uTGluayAmJiBoZWFkZXJMb2NhdGlvbkxpbmsuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xyXG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICBoZWFkZXJMb2NhdGlvblBvcHVwLmNsYXNzTGlzdC50b2dnbGUoJ2hlYWRlcl9fbG9jYXRpb24tcG9wdXAtLXNob3cnKTtcclxuICAgIH0pXHJcbiAgICBcclxuXHJcbiAgICAvLz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuICAgIC8vPT09PT09PXwgICBIRUxQRVJTXHJcbiAgICAvLz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuXHJcbiAgICBmdW5jdGlvbiBsb2NrU2Nyb2xsKCkge1xyXG4gICAgICAgIGxldCBib2R5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignYm9keScpO1xyXG4gICAgICAgIGxldCBmaXhlZEVscyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5qcy1maXhlZCcpIHx8IG51bGw7XHJcbiAgICAgICAgaWYgKGZpeGVkRWxzKSB7XHJcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZml4ZWRFbHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGZpeGVkRWxzW2ldLnN0eWxlLndpZHRoID0gYGNhbGMoMTAwdncgLSAke2dldFNjcm9sbEJhcldpZHRoKCl9cHgpYDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBib2R5LnN0eWxlLm92ZXJmbG93ID0gJ2hpZGRlbic7XHJcbiAgICAgICAgYm9keS5zdHlsZS53aWR0aCA9IGBjYWxjKDEwMHZ3IC0gJHtnZXRTY3JvbGxCYXJXaWR0aCgpfXB4KWA7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gdW5sb2NrU2Nyb2xsKCkge1xyXG4gICAgICAgIGxldCBib2R5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignYm9keScpO1xyXG4gICAgICAgIGxldCBmaXhlZEVscyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5qcy1maXhlZCcpIHx8IG51bGw7XHJcbiAgICAgICAgaWYgKGZpeGVkRWxzKSB7XHJcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZml4ZWRFbHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGZpeGVkRWxzW2ldLnN0eWxlLndpZHRoID0gJyc7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgYm9keS5zdHlsZS5vdmVyZmxvdyA9ICcnO1xyXG4gICAgICAgIGJvZHkuc3R5bGUud2lkdGggPSAnJztcclxuICAgIH1cclxufSk7Il19
